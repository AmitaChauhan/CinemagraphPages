<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <title>ET's awesome page!</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <link href='https://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Fjalla+One|Roboto' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/main.css">
    <link rel="favicon" href="favicon.ico">

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>

</head>




<body>

<script>

var i = 0;
var j = 0;
var new_url;
var new_arr = [];
$(document).ready(function () {
    $.getJSON('https://np.reddit.com/r/cinemagraphs/top/.json?count=50',
    function (json) {
        for (i; i < json.data.children.length; i++){
            new_url = json.data.children[i].data.url;
            var ext = new_url.substr(new_url.length - 4);
            console.log(json.data.children.length);
            if (ext == "gifv"){
                new_url = new_url.slice(0,-1);
                new_arr.push(new_url);
            } else if (ext == ".gif") {
                new_url = new_url;
                new_arr.push(new_url);
            }
        }
        console.log(new_arr);
        j = Math.floor(Math.random() * ((new_arr.length-1) - 0 + 1)) + 0;
        document.getElementById('foo-bar').src = new_arr[j];

    });
});

function nextPicture() {
    j = (j + 1) % new_arr.length;
    document.getElementById('foo-bar').src = new_arr[j];
}


function previousPicture() {
    j = j == 0 ? new_arr.length-1 : j-1;
    document.getElementById('foo-bar').src = new_arr[j];
}


</script>




<br>
<div class="topcorner">
  <button onclick="previousPicture()">Previous</button> <button onclick="nextPicture()">Next</button> 
</body>
</div>

<div class="menu-container">
    <img id="foo-bar" class="image-size">
</div>


</body>
